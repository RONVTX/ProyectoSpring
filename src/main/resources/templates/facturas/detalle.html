<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Detalle Factura</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body>
    <nav th:replace="fragments/navbar :: nav"></nav>

    <main class="container py-5">
        <h2>Detalle de Factura</h2>
        <div class="card mt-4">
            <div class="card-body">
                <p><strong>Número:</strong> <span th:text="${factura.numeroFactura}"></span></p>
                <p><strong>Usuario:</strong> <span th:text="${factura.usuario.email}"></span></p>
                <p><strong>Plan:</strong> <span th:text="${factura.plan.nombre}"></span></p>
                <p><strong>Monto Base:</strong> $<span th:text="${#numbers.formatDecimal(factura.montoBase,1,2)}"></span></p>
                <p><strong>Prorrateo:</strong> $<span th:text="${#numbers.formatDecimal(factura.montoProrrateo,1,2)}"></span></p>
                <p><strong>Tasa Impuesto:</strong> <span th:text="${#numbers.formatDecimal(factura.tasaImpuesto.multiply(100),1,2)} + '%'" /></p>
                <p><strong>Monto Impuesto:</strong> $<span th:text="${#numbers.formatDecimal(factura.montoImpuesto,1,2)}"></span></p>
                <p><strong>Total (con impuesto):</strong> $<span th:text="${#numbers.formatDecimal(factura.montoTotal,1,2)}"></span></p>
                <p><strong>Estado:</strong> <span th:text="${factura.estado.name()}"></span></p>
                <p><strong>Fecha Emisión:</strong> <span th:text="${#temporals.format(factura.fechaEmision,'dd/MM/yyyy')}"></span></p>
            </div>
        </div>
        <a href="/facturas" class="btn btn-secondary mt-3">Volver</a>
    </main>

    <div th:replace="fragments/footer :: footer"></div>

</body>
</html>
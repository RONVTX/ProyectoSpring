<link href="https://fonts.googleapis.com/css2?family=Syne:wght@400;600;700;800&family=DM+Sans:ital,wght@0,300;0,400;0,500;1,300&display=swap" rel="stylesheet">

<nav th:fragment="nav" xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.thymeleaf.org/extras/spring-security" style="
    position: sticky;
    top: 0;
    z-index: 100;
    background: rgba(10,13,20,0.8);
    backdrop-filter: blur(20px);
    -webkit-backdrop-filter: blur(20px);
    border-bottom: 1px solid rgba(255,255,255,0.07);
    padding: 0 2rem;
    display: flex;
    align-items: center;
    justify-content: space-between;
    height: 64px;
">
    <a href="/" class="nav-brand" style="
        font-family: 'Syne', sans-serif;
        font-weight: 800;
        font-size: 1.2rem;
        color: #e8eaf0;
        text-decoration: none;
        display: flex;
        align-items: center;
        gap: 0.5rem;
    ">
        <div class="dot" style="
            width: 8px;
            height: 8px;
            background: #4f6ef7;
            border-radius: 50%;
            box-shadow: 0 0 10px #4f6ef7;
            animation: pulse 2s infinite;
        "></div>
        ProyectoSpring
    </a>
    <ul class="nav-links" style="
        display: flex;
        gap: 0.25rem;
        list-style: none;
    ">
        <li><a href="/dashboard" style="
            color: #6b7280;
            text-decoration: none;
            font-size: 0.875rem;
            font-weight: 400;
            padding: 0.4rem 0.85rem;
            border-radius: 8px;
            transition: all 0.2s;
        ">Inicio</a></li>
        <li><a href="/planes" style="
            color: #6b7280;
            text-decoration: none;
            font-size: 0.875rem;
            font-weight: 400;
            padding: 0.4rem 0.85rem;
            border-radius: 8px;
            transition: all 0.2s;
        ">Planes</a></li>
        <li><a href="/suscripciones" style="
            color: #6b7280;
            text-decoration: none;
            font-size: 0.875rem;
            font-weight: 400;
            padding: 0.4rem 0.85rem;
            border-radius: 8px;
            transition: all 0.2s;
        ">Suscripciones</a></li>
        <li><a href="/facturas" style="
            color: #6b7280;
            text-decoration: none;
            font-size: 0.875rem;
            font-weight: 400;
            padding: 0.4rem 0.85rem;
            border-radius: 8px;
            transition: all 0.2s;
        ">Facturas</a></li>
        <li sec:authorize="hasRole('ADMIN')"><a href="/admin/auditoria" style="
            color: #6b7280;
            text-decoration: none;
            font-size: 0.875rem;
            font-weight: 400;
            padding: 0.4rem 0.85rem;
            border-radius: 8px;
            transition: all 0.2s;
        ">Auditoría</a></li>
    </ul>
    <div class="nav-actions" style="
        display: flex;
        align-items: center;
        gap: 0.75rem;
    ">
        <div sec:authorize="isAuthenticated()" class="nav-actions" style="display: flex; align-items: center; gap: 0.75rem;">
            <a th:href="@{/usuarios/perfil}" class="btn btn-secondary">Mi Perfil</a>
            <a th:href="@{/usuarios/configuracion}" class="btn btn-secondary">Configuración</a>
            <form th:action="@{/logout}" method="post" style="display: inline;" th:if="${_csrf != null}">
                <input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}" />
                <button type="submit" class="btn btn-secondary">Cerrar Sesión</button>
            </form>
            <form th:action="@{/logout}" method="post" style="display: inline;" th:if="${_csrf == null}">
                <button type="submit" class="btn btn-secondary">Cerrar Sesión</button>
            </form>
        </div>
    
    </div>
</nav>

<style>
    .nav-links a:hover {
        color: #e8eaf0 !important;
        background: rgba(255,255,255,0.07) !important;
    }
    .btn-ghost:hover {
        color: #e8eaf0 !important;
        border-color: rgba(255,255,255,0.15) !important;
        background: #111520 !important;
    }
    .btn-primary:hover {
        background: #6b85f8 !important;
        box-shadow: 0 4px 28px rgba(79,110,247,0.5) !important;
        transform: translateY(-1px) !important;
    }
    @keyframes pulse {
        0%, 100% { opacity: 1; transform: scale(1); }
        50% { opacity: 0.6; transform: scale(0.8); }
    }
    @media (max-width: 768px) {
        .nav-links { display: none; }
    }
</style>

<script>
    // Navbar functionality removed - buttons are now inline
</script>




